[Unit]
Description=Slack Remind All App
After=network.target

[Service]
Type=simple
WorkingDirectory=/var/www/auditapp-backend

ExecStart=SLACK_SIGNING_SECRET={{ slack_remind_all_secret }} \
SLACK_OAUTH_TOKEN={{ slack_remind_all_oauth }} \
python {{ slack_remind_all_location }}/slack_remind_all/server.py

PIDFile=/var/run/{{ slack_remind_all_service }}.pid
TimeoutStopSec=0
Restart=always
User=root
Group=root
RuntimeDirectory=root
RuntimeDirectoryMode=2755

ExecStop=/bin/kill -s TERM $MAINPID

UMask=007
PrivateTmp=yes
LimitNOFILE=65535
PrivateDevices=yes
ProtectHome=yes
ReadOnlyDirectories=/
ReadWriteDirectories=-/var/log/
ReadWriteDirectories=-/var/run/
CapabilityBoundingSet=~CAP_SYS_PTRACE

[Install]
WantedBy=multi-user.target
Alias=audit-app.service
